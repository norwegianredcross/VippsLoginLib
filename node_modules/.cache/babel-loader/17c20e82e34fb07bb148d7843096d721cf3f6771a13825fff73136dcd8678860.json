{"ast":null,"code":"'use client';\n\nimport { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js';\n\n// Inspired by Sam Selikoff\n// https://github.com/samselikoff/2022-02-24-use-synchronized-animation/blob/main/src/App.js\n/**\n * Synchronizes the css animation of multiple elements with the same `animationName`.\n *\n * @example\n * ```tsx\n *  const ref = useSynchronizedAnimation<HTMLDivElement>('spin');\n *\n *  <div\n *   ref={ref}\n *  />\n * ```\n */\nfunction useSynchronizedAnimation(animationName) {\n  const ref = useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    const animations = document.getAnimations().filter(animation => 'animationName' in animation && animation.animationName === animationName);\n    const firstOfType = animations.find(animation => 'animationName' in animation && animation.animationName === animationName);\n    const myAnimation = animations.find(animation => animation.effect?.target === ref.current);\n    if (myAnimation && myAnimation === firstOfType) {\n      myAnimation.currentTime = 0;\n    }\n    if (myAnimation && firstOfType?.currentTime && myAnimation !== firstOfType) {\n      myAnimation.currentTime = firstOfType.currentTime;\n    }\n    return () => {\n      if (myAnimation && firstOfType?.currentTime) {\n        myAnimation.currentTime = firstOfType.currentTime;\n      }\n    };\n  }, [animationName]);\n  return ref;\n}\nexport { useSynchronizedAnimation };","map":{"version":3,"names":["useRef","useIsomorphicLayoutEffect","useSynchronizedAnimation","animationName","ref","animations","document","getAnimations","filter","animation","firstOfType","find","myAnimation","effect","target","current","currentTime"],"sources":["/Users/riccardomarini/Dropbox/Lavori/RedCross/Login Vipps/LoginVippsLib/node_modules/@digdir/designsystemet-react/dist/esm/utilities/hooks/useSynchronizedAnimation/useSynchronizedAnimation.js"],"sourcesContent":["'use client';\nimport { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js';\n\n// Inspired by Sam Selikoff\n// https://github.com/samselikoff/2022-02-24-use-synchronized-animation/blob/main/src/App.js\n/**\n * Synchronizes the css animation of multiple elements with the same `animationName`.\n *\n * @example\n * ```tsx\n *  const ref = useSynchronizedAnimation<HTMLDivElement>('spin');\n *\n *  <div\n *   ref={ref}\n *  />\n * ```\n */\nfunction useSynchronizedAnimation(animationName) {\n    const ref = useRef(null);\n    useIsomorphicLayoutEffect(() => {\n        const animations = document\n            .getAnimations()\n            .filter((animation) => 'animationName' in animation &&\n            animation.animationName === animationName);\n        const firstOfType = animations.find((animation) => 'animationName' in animation &&\n            animation.animationName === animationName);\n        const myAnimation = animations.find((animation) => animation.effect?.target === ref.current);\n        if (myAnimation && myAnimation === firstOfType) {\n            myAnimation.currentTime = 0;\n        }\n        if (myAnimation &&\n            firstOfType?.currentTime &&\n            myAnimation !== firstOfType) {\n            myAnimation.currentTime = firstOfType.currentTime;\n        }\n        return () => {\n            if (myAnimation && firstOfType?.currentTime) {\n                myAnimation.currentTime = firstOfType.currentTime;\n            }\n        };\n    }, [animationName]);\n    return ref;\n}\n\nexport { useSynchronizedAnimation };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,MAAM,QAAQ,OAAO;AAC9B,SAASC,yBAAyB,QAAQ,2DAA2D;;AAErG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,wBAAwBA,CAACC,aAAa,EAAE;EAC7C,MAAMC,GAAG,GAAGJ,MAAM,CAAC,IAAI,CAAC;EACxBC,yBAAyB,CAAC,MAAM;IAC5B,MAAMI,UAAU,GAAGC,QAAQ,CACtBC,aAAa,CAAC,CAAC,CACfC,MAAM,CAAEC,SAAS,IAAK,eAAe,IAAIA,SAAS,IACnDA,SAAS,CAACN,aAAa,KAAKA,aAAa,CAAC;IAC9C,MAAMO,WAAW,GAAGL,UAAU,CAACM,IAAI,CAAEF,SAAS,IAAK,eAAe,IAAIA,SAAS,IAC3EA,SAAS,CAACN,aAAa,KAAKA,aAAa,CAAC;IAC9C,MAAMS,WAAW,GAAGP,UAAU,CAACM,IAAI,CAAEF,SAAS,IAAKA,SAAS,CAACI,MAAM,EAAEC,MAAM,KAAKV,GAAG,CAACW,OAAO,CAAC;IAC5F,IAAIH,WAAW,IAAIA,WAAW,KAAKF,WAAW,EAAE;MAC5CE,WAAW,CAACI,WAAW,GAAG,CAAC;IAC/B;IACA,IAAIJ,WAAW,IACXF,WAAW,EAAEM,WAAW,IACxBJ,WAAW,KAAKF,WAAW,EAAE;MAC7BE,WAAW,CAACI,WAAW,GAAGN,WAAW,CAACM,WAAW;IACrD;IACA,OAAO,MAAM;MACT,IAAIJ,WAAW,IAAIF,WAAW,EAAEM,WAAW,EAAE;QACzCJ,WAAW,CAACI,WAAW,GAAGN,WAAW,CAACM,WAAW;MACrD;IACJ,CAAC;EACL,CAAC,EAAE,CAACb,aAAa,CAAC,CAAC;EACnB,OAAOC,GAAG;AACd;AAEA,SAASF,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}