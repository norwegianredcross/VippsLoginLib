{"ast":null,"code":"'use client';\n\nimport { useContext } from 'react';\nimport { RovingFocusContext } from './RovingFocusRoot.js';\n\n// Logic from: https://www.joshuawootonn.com/react-roving-tabindex\n// Inspired by: https://github.com/radix-ui/primitives/tree/main/packages/react/roving-focus/src\n/** Handles props for `RovingFocus` in context with `RovingFocusRoot` */\nconst useRovingFocus = value => {\n  const {\n    elements,\n    getOrderedItems,\n    setFocusableValue,\n    focusableValue,\n    onShiftTab,\n    orientation\n  } = useContext(RovingFocusContext);\n  return {\n    getOrderedItems,\n    isFocusable: focusableValue === value,\n    orientation,\n    getRovingProps: props => ({\n      ...props,\n      ref: element => {\n        if (element) {\n          elements.current.set(value, element);\n        } else {\n          elements.current.delete(value);\n        }\n      },\n      onKeyDown: e => {\n        props?.onKeyDown?.(e);\n        if (e.shiftKey && e.key === 'Tab') {\n          onShiftTab();\n          return;\n        }\n      },\n      onFocus: e => {\n        props?.onFocus?.(e);\n        setFocusableValue(value);\n      },\n      'data-roving-tabindex-item': true,\n      tabIndex: focusableValue === value ? 0 : -1\n    })\n  };\n};\nexport { useRovingFocus };","map":{"version":3,"names":["useContext","RovingFocusContext","useRovingFocus","value","elements","getOrderedItems","setFocusableValue","focusableValue","onShiftTab","orientation","isFocusable","getRovingProps","props","ref","element","current","set","delete","onKeyDown","e","shiftKey","key","onFocus","tabIndex"],"sources":["/Users/riccardomarini/Dropbox/Lavori/RedCross/Login Vipps/LoginVippsLib/node_modules/@digdir/designsystemet-react/dist/esm/utilities/RovingFocus/useRovingFocus.js"],"sourcesContent":["'use client';\nimport { useContext } from 'react';\nimport { RovingFocusContext } from './RovingFocusRoot.js';\n\n// Logic from: https://www.joshuawootonn.com/react-roving-tabindex\n// Inspired by: https://github.com/radix-ui/primitives/tree/main/packages/react/roving-focus/src\n/** Handles props for `RovingFocus` in context with `RovingFocusRoot` */\nconst useRovingFocus = (value) => {\n    const { elements, getOrderedItems, setFocusableValue, focusableValue, onShiftTab, orientation, } = useContext(RovingFocusContext);\n    return {\n        getOrderedItems,\n        isFocusable: focusableValue === value,\n        orientation,\n        getRovingProps: (props) => ({\n            ...props,\n            ref: (element) => {\n                if (element) {\n                    elements.current.set(value, element);\n                }\n                else {\n                    elements.current.delete(value);\n                }\n            },\n            onKeyDown: (e) => {\n                props?.onKeyDown?.(e);\n                if (e.shiftKey && e.key === 'Tab') {\n                    onShiftTab();\n                    return;\n                }\n            },\n            onFocus: (e) => {\n                props?.onFocus?.(e);\n                setFocusableValue(value);\n            },\n            'data-roving-tabindex-item': true,\n            tabIndex: focusableValue === value ? 0 : -1,\n        }),\n    };\n};\n\nexport { useRovingFocus };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,kBAAkB,QAAQ,sBAAsB;;AAEzD;AACA;AACA;AACA,MAAMC,cAAc,GAAIC,KAAK,IAAK;EAC9B,MAAM;IAAEC,QAAQ;IAAEC,eAAe;IAAEC,iBAAiB;IAAEC,cAAc;IAAEC,UAAU;IAAEC;EAAa,CAAC,GAAGT,UAAU,CAACC,kBAAkB,CAAC;EACjI,OAAO;IACHI,eAAe;IACfK,WAAW,EAAEH,cAAc,KAAKJ,KAAK;IACrCM,WAAW;IACXE,cAAc,EAAGC,KAAK,KAAM;MACxB,GAAGA,KAAK;MACRC,GAAG,EAAGC,OAAO,IAAK;QACd,IAAIA,OAAO,EAAE;UACTV,QAAQ,CAACW,OAAO,CAACC,GAAG,CAACb,KAAK,EAAEW,OAAO,CAAC;QACxC,CAAC,MACI;UACDV,QAAQ,CAACW,OAAO,CAACE,MAAM,CAACd,KAAK,CAAC;QAClC;MACJ,CAAC;MACDe,SAAS,EAAGC,CAAC,IAAK;QACdP,KAAK,EAAEM,SAAS,GAAGC,CAAC,CAAC;QACrB,IAAIA,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACE,GAAG,KAAK,KAAK,EAAE;UAC/Bb,UAAU,CAAC,CAAC;UACZ;QACJ;MACJ,CAAC;MACDc,OAAO,EAAGH,CAAC,IAAK;QACZP,KAAK,EAAEU,OAAO,GAAGH,CAAC,CAAC;QACnBb,iBAAiB,CAACH,KAAK,CAAC;MAC5B,CAAC;MACD,2BAA2B,EAAE,IAAI;MACjCoB,QAAQ,EAAEhB,cAAc,KAAKJ,KAAK,GAAG,CAAC,GAAG,CAAC;IAC9C,CAAC;EACL,CAAC;AACL,CAAC;AAED,SAASD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}